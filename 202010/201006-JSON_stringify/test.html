<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>201006-JSON_stringify-test</title>
  <!-- <style></style> -->
</head>
<body>
  <script src="JSON_stringify.js"></script>
  <script>
const data = {
    a: 2,
    b: {
        y: 'y',
    },
    c: Symbol('foo'),
    [Symbol.for('foo')]: 'd',
    e: function(){},
    x: [
        {
            y: 'y',
            a: '3'
        },
        {
            p: 'p',
            q: 'q',
        },
        undefined,
        null,
        NaN,
        "foo",
        new Set([1]),
        new WeakSet(),
        new Map([{a: 1}]),
        new WeakMap([[{a:1}, 2]]),
        function(){},
    ],
};
const replacer = function (key, value) {
    if (typeof value === 'number') {
        return 2 * value;
    }
    return value;
};
const jsf = JSON.stringify;
const sf = stringify;

let r1 = jsf(data, replacer, '--');
let r2 = sf(data, replacer, '--');

let arr1 = [1, 2];
let arr2 = [arr1, 2];
arr1[1] = arr2;
  </script>
  <!-- <script type="text/javascript"></script> -->
</body>
</html>