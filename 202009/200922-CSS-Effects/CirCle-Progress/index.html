<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Circle Progress</title>
  <link rel="stylesheet" href="style.css">
  <!-- <style></style> -->
</head>
<body>
  <div class="box">
    <div class="percent">
      <svg>
        <circle cx="70" cy="70" r="70"></circle>
        <circle cx="70" cy="70" r="70"></circle>
      </svg>
      <div class="number">
        <h2>0</h2><span>%</span>
      </div>
    </div>
    <h2 class="text">Progress</h2>
  </div>
  <script type="text/javascript">
    const h2 = document.querySelector("div.number h2");
    const circle2 = document.querySelector(".box .percent svg circle:nth-child(2)")
    // /*
    let timer = requestAnimationFrame(function fn() {
      let num = parseInt(h2.textContent); // 会忽略末尾 %
      if (num === 100) {
        cancelAnimationFrame(timer);
      } else {
        h2.textContent = `${++num}`;
        circle2.style.setProperty('stroke-dashoffset', `calc(${440 * (1-num/100)})`);
        timer = requestAnimationFrame(fn);
      }
    });
    // */
  </script>
</body>
</html>